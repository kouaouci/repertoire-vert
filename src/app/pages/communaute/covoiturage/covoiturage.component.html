<app-toolbar-with-back title="carpool.title" backUrl="tabs/communaute">
</app-toolbar-with-back>

<ion-content force-overscroll="false">
  <ion-grid class="content-grid">
    <!-- Titre row -->
    <ion-row class="title-row">
      <ion-col size="12" class="title-col">
        <ion-label class="title" [translate]="'carpool.title'"></ion-label>
      </ion-col>
    </ion-row>

    <!-- CritÃ¨res de recherche row -->
    <ion-row class="form-row">
      <ion-col size="12">
        <form [formGroup]="covoiturageForm">

          <!-- Departure -->
          <div class="departure-container">
            <div class="input-container">
              <ion-input
                [placeholder]="'carpool.departure' | translate"
                formControlName="departure"
                (ionInput)="addressKeyPress($event, 'departure')"
              >
                <ion-icon
                  name="location-sharp"
                  color="gaea-yellow-light"
                ></ion-icon>
              </ion-input>
            </div>
            <div class="suggestion-container" *ngIf="showDepartureSuggestions">
              <ion-list>
                <ion-item *ngFor="let suggestion of departureSuggestions"
                  (click)="selectDeparture(suggestion)">
                  <ion-text>{{ suggestion.properties.label }}</ion-text>
                </ion-item>
              </ion-list>
            </div>
          </div>

          <!-- Destination -->
          <div class="destination-container">
            <div class="input-container">
              <ion-input
              [placeholder]="'carpool.destination' | translate"
                formControlName="destination"
                (ionInput)="addressKeyPress($event, 'destination')"
              >
                <ion-icon
                  name="location-sharp"
                  color="gaea-green-grass"
                ></ion-icon>
              </ion-input>
            </div>
            <div class="suggestion-container" *ngIf="showDestinationSuggestions">
              <ion-list>
                <ion-item *ngFor="let suggestion of destinationSuggestions"
                  (click)="selectDestination(suggestion)">
                  <ion-text>{{ suggestion.properties.label }}</ion-text>
                </ion-item>
              </ion-list>
            </div>
          </div>

          <br />

          <!-- Date -->
          <ion-item class="item-input">
            <ion-label>
              <ion-icon name="calendar-outline"></ion-icon>
            </ion-label>
            <ion-datetime displayFormat="DD-MM-YYYY" formControlName="date">
            </ion-datetime>
          </ion-item>

          <!-- Time -->
          <ion-item class="item-input">
            <ion-label>
              <ion-icon name="time-outline"></ion-icon>
            </ion-label>
            <ion-datetime displayFormat="HH:mm" formControlName="time">
            </ion-datetime>
          </ion-item>

          <!-- Offer & Search buttons -->
          <ion-row class="buttons-row">
            <ion-col size="6" class="offer-col">
              <ion-button color="gaea-green-grass" (click)="createOffer()">
                {{ 'carpool.offer' | translate }}
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button color="gaea-green-grass" (click)="findOffer()">
                {{ 'carpool.find' | translate }}
              </ion-button>
            </ion-col>
          </ion-row>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
