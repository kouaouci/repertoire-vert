<ion-grid *ngIf="reviews">

  <!-- New review form -->
  <ion-row *ngIf="showForm()">
    <ion-col size="12" class="own-review-col">
      <ion-label>{{ 'reviewsPage.addReview' | translate }}</ion-label>
    </ion-col>

    <ion-col size="12" class="ion-text-center stars-col">
      <ion-icon
        [name]="stars >= 1 ? 'star' : 'star-outline'"
        color="gaea-yellow-deep"
        (click)="handleStars(1)"
      ></ion-icon>
      <ion-icon
        [name]="stars >= 2 ? 'star' : 'star-outline'"
        color="gaea-yellow-deep"
        (click)="handleStars(2)"
      ></ion-icon>
      <ion-icon
        [name]="stars >= 3 ? 'star' : 'star-outline'"
        color="gaea-yellow-deep"
        (click)="handleStars(3)"
      ></ion-icon>
      <ion-icon
        [name]="stars >= 4 ? 'star' : 'star-outline'"
        color="gaea-yellow-deep"
        (click)="handleStars(4)"
      ></ion-icon>
      <ion-icon
        [name]="stars >= 5 ? 'star' : 'star-outline'"
        color="gaea-yellow-deep"
        (click)="handleStars(5)"
      ></ion-icon>
    </ion-col>

    <ion-col size="12" class="own-review-col">
      <ion-text>{{ 'reviewsPage.addComment' | translate }}</ion-text>
      <ion-textarea 
        [placeholder]="'reviewsPage.yourComment' | translate" [(ngModel)]="comment" 
        maxlength="250" (ionChange)="countCharacters()">
      </ion-textarea>
      <ion-text class="comment-hint">
        {{ remainingCharacters }} {{ 'reviewsPage.remainingCharacters' | translate }}
      </ion-text>
    </ion-col>

    <ion-col size="12" class="ion-text-center">
      <ion-button color="gaea-green-grass" (click)="addReview()">
        {{ 'submit' | translate }}
      </ion-button>
    </ion-col>
  </ion-row>

  <hr>

  <!-- Reviews list -->
  <ion-row>
    <ion-col size="12" class="ion-text-center">
      <ion-list>
        <ion-item *ngFor="let review of reviews">
          <app-user-review [review]="review"></app-user-review>
        </ion-item>
      </ion-list>
      <ion-text *ngIf="reviews.length === 0">{{ 'reviewsPage.noReviews' | translate }}</ion-text>
    </ion-col>
  </ion-row>
</ion-grid>